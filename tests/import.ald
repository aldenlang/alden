
# MATH
import pow, sqrt from 'math'
println(pow(2, 3))
println(sqrt(4))


# HTTP
import http as h
let url = 'http://localhost:8080/'
let headers = {
  'Content-Type': 'application/json'
}
let body = {
  name: 'test',
  age: 18
}
let http = h.new(url, headers, body)
let http2 = h.new("http://localhost:8083/", {}, {name: 'test', age: 30})
let http3 = h.new("http://localhost:8085/", {}, {name: 'test', age: 42})
println(http.get())
println(http2.get())
println(http3.post())

# FILE
import file as f
let file = f.open('text.txt', 'r')
println(file.read())


# USER CREATED MODULE
# module path as to be defined with current directory
import Customer from 'tests/customer'
let customer = Customer.new('Bob', 18, '20 Main St', '000-000-0000', 'Bob18@gmail.com')
println(customer.toString())
customer.add_purchase('pen', 20, 4)
customer.add_purchase('pencil', 10, 2)
customer.add_purchase('eraser', 5, 1)
in customer.purchases as purchase:
  println(purchase.toString())
end
println(customer.total_purchases())
println(customer.get_total_purchases())

#Dynamic import
def @import(path)
  let module = require(path)
  return module
end


# let add, min, *props = @import('math')
# println(add(1, 2), min(1, 2))

let module = @import('tests/dynamic_import')
println(module.hello('world'))

